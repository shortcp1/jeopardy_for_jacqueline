ID,Title,Description,Status,Priority,Labels,Creator,Project,Created,Completed
JEO-1,Initial Jeopardy Game Setup,"**Problem/Request:**
User wanted to build a two-player Jeopardy game for personal use with wife. Required full game implementation with speech recognition, LLM answer validation, and authentic Jeopardy mechanics.

**Investigation:**
- Reviewed comprehensive 260-line specification document
- Confirmed availability of Kaggle Jeopardy TSV dataset (520,893 questions)
- Verified Node.js v20.9.0 installed
- Confirmed Anthropic API key available
- Chose Anthropic API over OpenRouter for cost savings ($0.80/M vs markup)

**Root Cause:**
N/A - New project

**Options Considered:**
- OpenRouter API vs Anthropic Direct API: Chose Anthropic for lower cost
- Speech APIs: Web Speech API chosen for broad compatibility, with modular design for future Wispr Flow integration
- Database: JSON file tracking for used questions (simple, sufficient for personal use)

**Solution Implemented:**
Created complete Node.js/Express game with:
- Backend: Express server, TSV parser, question manager, LLM validation service
- Frontend: HTML/CSS/JS with Jeopardy theming (blue #060CE9, gold #FFCC00)
- 6 categories × 5 questions per round
- Daily Doubles (1 in Jeopardy, 2 in Double Jeopardy)
- Final Jeopardy with wagering
- Speech recognition via Web Speech API
- Answer validation via Claude Haiku 3.5

**Code Changes:**
- Created package.json with dependencies (express, dotenv, cors, @anthropic-ai/sdk)
- server/questionManager.js: TSV parsing, category selection, Daily Double placement, used question tracking
- server/llmService.js: Anthropic API integration for answer validation
- server/server.js: Express routes for categories, game generation, answer validation
- public/index.html: Complete game interface with staging, game board, clues, Final Jeopardy
- public/css/styles.css: Jeopardy-themed styling throughout
- public/js/speechService.js: Modular Web Speech API wrapper
- public/js/game.js: Core game logic, state management, scoring, rounds
- public/js/ui.js: DOM manipulation, rendering, event handling
- .env: API key configuration
- .gitignore: Protect secrets and node_modules

**Testing:**
- Verified 520,893 questions loaded successfully
- API health endpoint confirmed working
- Category randomization tested

**Outcome:**
Fully functional Jeopardy game ready to play with complete feature set as specified.

**Lessons Learned:**
- Modular architecture enables easy future enhancements (Wispr Flow)
- Direct API access significantly cheaper than aggregators
- TSV parsing straightforward with Node.js fs module",Done,1,"game-setup,backend,frontend",Claude,Jeopardy Game,2026-01-13,2026-01-13
JEO-2,Question/Answer Reversal Bug,"**Problem/Request:**
Game was showing the answer instead of the question as the clue. Users should see the answer field (clue) and respond with the question field (correct answer), following Jeopardy format.

**Investigation:**
- Examined game.js showClue() method - was passing question.question instead of question.answer
- Checked LLM validation payload - was sending wrong fields
- Verified Final Jeopardy had same issue
- Confirmed TSV structure: 'question' column has answers (what to say), 'answer' column has clues (what is shown)

**Root Cause:**
Kaggle dataset uses non-intuitive column naming: 'answer' column contains the clue shown to players, 'question' column contains what players should say. Initial implementation didn't account for this reversal.

**Options Considered:**
1. Rename columns during TSV parsing
2. Swap field usage throughout codebase
Chose option 2 for cleaner code without data transformation overhead.

**Solution Implemented:**
Swapped all question/answer field references:
- showClue() now passes question.answer (the clue)
- LLM validation sends clue: question.answer, correctAnswer: question.question
- Final Jeopardy displays question.answer as clue
- All ""Correct answer"" displays show question.question

**Code Changes:**
- game.js line 99: Changed question.question to question.answer in showClue()
- game.js line 192-194: Swapped clue/correctAnswer in validation payload
- game.js lines 236, 279: Changed ${this.currentQuestion.answer} to ${this.currentQuestion.question}
- game.js line 360: Changed finalJeopardy.question to finalJeopardy.answer
- game.js lines 382-383, 407-408, 412-413: Swapped FJ validation fields

**Testing:**
- Verified clues display correctly (the answer from dataset)
- Confirmed validation accepts correct question format
- Tested regular questions, Daily Doubles, and Final Jeopardy

**Outcome:**
Game now follows proper Jeopardy format. Clues show correctly, validation works, authentic gameplay achieved.

**Lessons Learned:**
- Always verify dataset column semantics vs naming
- Test with actual data early to catch field mismatches
- Dataset documentation critical for correct implementation",Done,1,"bug,gameplay",Claude,Jeopardy Game,2026-01-13,2026-01-13
JEO-3,Staging Screen Scroll Issue,"**Problem/Request:**
User couldn't scroll down on staging screen to view Double Jeopardy categories or Start Game button. Content was cut off below viewport.

**Investigation:**
- Inspected CSS: body had overflow: hidden preventing scroll
- Screen height was fixed at 100vh without content expansion
- Staging screen used flexbox centering which prevented overflow visibility

**Root Cause:**
CSS overflow: hidden on body element blocked all page scrolling. Fixed height viewport prevented content from expanding naturally.

**Options Considered:**
1. Make staging screen scrollable only
2. Allow body scrolling
3. Reduce content size to fit
Chose option 2 (body scrolling) as most user-friendly for varying screen sizes.

**Solution Implemented:**
- Changed body overflow from hidden to auto
- Changed screen height from 100vh to min-height: 100vh
- Changed staging flex alignment from center to flex-start
- Added overflow-y: auto to staging screen
- Added margin to staging container

**Code Changes:**
- styles.css line 10: overflow: hidden → overflow: auto
- styles.css line 17: height: 100vh → min-height: 100vh
- styles.css line 30: justify-content: center → justify-content: flex-start
- styles.css line 33: Added overflow-y: auto
- styles.css line 39: Added margin: 20px 0

**Testing:**
- Confirmed all content visible with scroll
- Tested on various viewport heights
- Verified game screen not affected

**Outcome:**
Staging screen now fully scrollable, all content accessible regardless of screen size.

**Lessons Learned:**
- overflow: hidden useful for game screens, problematic for content-heavy screens
- min-height better than fixed height for responsive design
- Test UI on different viewport sizes during development",Done,2,"bug,ui,css",Claude,Jeopardy Game,2026-01-13,2026-01-13
JEO-4,Header Personalization,"**Problem/Request:**
User wanted staging header to say ""JEOPARDY FOR JACQUELINE!"" instead of just ""JEOPARDY!"" to personalize the game.

**Investigation:**
- Located header in index.html line 13
- Simple text change, no logic impact

**Root Cause:**
N/A - Enhancement request

**Options Considered:**
Direct text update (chosen for simplicity)

**Solution Implemented:**
Changed h1.jeopardy-title text content to ""JEOPARDY FOR JACQUELINE!""

**Code Changes:**
- index.html line 13: JEOPARDY! → JEOPARDY FOR JACQUELINE!

**Testing:**
- Verified header displays correctly on staging screen
- Confirmed styling still applies properly

**Outcome:**
Personalized header adds custom touch for intended player.

**Lessons Learned:**
- Simple personalization increases emotional connection to project
- User-specific customization makes project feel more special",Done,3,"ui,personalization",Claude,Jeopardy Game,2026-01-13,2026-01-13
JEO-5,Skip Button Implementation,"**Problem/Request:**
User needed ability to skip questions when neither player knows answer, instead of waiting for timer to expire.

**Investigation:**
- Timer expiration logic in handleTimerExpire()
- Needed similar logic but user-triggered
- Required proper cleanup of speech and timer

**Root Cause:**
N/A - Missing feature

**Options Considered:**
1. Keyboard shortcut only
2. Button only
3. Both
Chose option 2 (button) for accessibility and visibility.

**Solution Implemented:**
Added Skip Question button to clue display with:
- Timer stop
- Speech recognition stop
- Buzzer deactivation
- Display correct answer
- Transition to next clue

**Code Changes:**
- index.html line 79: Added skip-question button
- styles.css lines 370-374: Added skip-btn styling
- ui.js lines 99-102: Added skip button event listener
- game.js lines 299-320: Implemented skipQuestion() method

**Testing:**
- Verified timer stops when skipping
- Confirmed correct answer displays
- Tested speech service cleanup
- Validated progression to next question

**Outcome:**
Players can efficiently move past unknown questions without waiting for timeout.

**Lessons Learned:**
- User control over game pace important for enjoyment
- Cleanup code must mirror timer expiration to prevent state bugs",Done,2,"feature,ux",Claude,Jeopardy Game,2026-01-13,2026-01-13
JEO-6,Timer Rapid Skip Bug,"**Problem/Request:**
Questions were rapidly skipping immediately when clicked, timer running to negative values, causing multiple questions to be consumed without user interaction.

**Investigation:**
- Multiple timers running simultaneously
- No debouncing on clue selection
- clueInProgress flag not preventing multiple selections
- Timer expiration not checking if already handled
- Potential race conditions between skip and timer expiration

**Root Cause:**
Multiple compounding issues:
1. No debouncing allowed rapid clue clicks creating multiple overlapping timers
2. Timer countdown didn't stop at zero, continued to negative and triggered multiple times
3. Skip and timer expiration could both fire for same question
4. No global state check preventing new clue selection during active clue

**Options Considered:**
1. Add debouncing only
2. Fix timer logic only
3. Add state management only
4. Comprehensive fix with all three
Chose option 4 for robust solution.

**Solution Implemented:**
Triple-layer protection:
1. Debouncing: 500ms delay between clue selections
2. State checking: clueInProgress flag prevents new selections during active clue
3. Timer fix: Stop at zero, check clueInProgress before handling expiration
4. Handler protection: Return early from handleTimerExpire if already handled

**Code Changes:**
- ui.js line 24: Added lastClueClickTime: 0
- ui.js lines 246-251: Added debounce check in cell click handler
- ui.js line 253: Added !game.clueInProgress check
- game.js line 36: Added clueInProgress: false flag
- game.js line 105: Set clueInProgress = true in showClue()
- game.js lines 482-487: Timer stops when reaching zero
- game.js lines 260-263: Check clueInProgress in handleTimerExpire()
- game.js lines 307-310: Set clueInProgress = false in skipQuestion()
- game.js line 326: Set clueInProgress = false in endClue()

**Testing:**
- Rapid clicked clues - only one activates
- Verified timer stops at zero
- Confirmed skip doesn't double-trigger
- Tested normal gameplay flow unaffected

**Outcome:**
Stable question progression, one question at a time, no rapid skipping or negative timers.

**Lessons Learned:**
- Race conditions require multi-layer protection
- Debouncing + state flags + boundary checks all necessary
- Timer logic must have explicit stop conditions
- State management critical for sequential game flow",Done,0,"bug,timer,race-condition",Claude,Jeopardy Game,2026-01-13,2026-01-13
JEO-7,Daily Double Not Showing Question,"**Problem/Request:**
After entering Daily Double wager, question wasn't displaying. Game appeared stuck on wager screen.

**Investigation:**
- submitDailyDoubleWager() was setting isDailyDouble = false immediately
- showClue() was being called but question wasn't rendering
- Examined clue display visibility logic

**Root Cause:**
Setting isDailyDouble = false before processing answer caused value calculation to use regular displayValue instead of wager. This broke the flag tracking needed throughout the answer flow.

**Options Considered:**
1. Keep isDailyDouble = true through entire answer flow
2. Separate wager value storage
Chose option 1 to maintain flag integrity through full answer lifecycle.

**Solution Implemented:**
- Removed premature isDailyDouble = false in submitDailyDoubleWager()
- Keep flag true until answer is processed
- Clear flag in processAnswer(), handleTimerExpire(), skipQuestion(), and endClue()
- Added safety checks in showClue() to clear flags for non-DD questions

**Code Changes:**
- game.js line 131: Removed isDailyDouble = false, added comment explaining
- game.js lines 253-254: Clear DD flags in processAnswer()
- game.js lines 295-296: Clear DD flags in handleTimerExpire()
- game.js lines 313-314: Clear DD flags in skipQuestion()
- game.js lines 330-331: Clear DD flags in endClue()
- game.js lines 100-103: Safety clear DD flags for non-DD questions in showClue()

**Testing:**
- Verified DD wager screen appears
- Confirmed question displays after wager
- Tested wager amount applied correctly
- Validated flag cleanup after answer

**Outcome:**
Daily Doubles work correctly: wager → see question → answer → proper scoring.

**Lessons Learned:**
- State flags must persist through entire transaction lifecycle
- Premature cleanup causes subtle bugs
- Multiple cleanup points needed for safety (skip, timeout, normal flow)
- Comment flag lifecycle decisions in code",Done,1,"bug,daily-double,state-management",Claude,Jeopardy Game,2026-01-13,2026-01-13
JEO-8,Final Jeopardy Speech to Text Input,"**Problem/Request:**
Final Jeopardy speech recognition getting stuck, unreliable. User wanted text input instead for both players to type answers simultaneously.

**Investigation:**
- Speech recognition sequential (player 1 then player 2) caused waits
- Web Speech API errors could block progression
- Text input would be faster, more reliable, allow simultaneous answers

**Root Cause:**
Web Speech API:
- Requires sequential processing
- Error-prone (microphone issues, ambient noise)
- Slower than typing
- Poor UX for final critical round

**Options Considered:**
1. Fix speech recognition reliability
2. Switch to text input
3. Offer both options
Chose option 2 for simplicity and reliability.

**Solution Implemented:**
Replaced sequential speech input with simultaneous text input:
- Two text input fields shown together
- Both players type answers at same time
- Single submit validates both answers via API
- Display detailed results screen showing correctness for each player

**Code Changes:**
- index.html lines 115-126: Replaced speech UI with text input fields
- index.html lines 127-149: Added FJ results display screen
- styles.css lines 543-573: Styled answer input fields
- styles.css lines 575-649: Styled results screen with correct/incorrect indicators
- ui.js lines 83-92: Added submit answers event handler
- ui.js lines 127-129: Added continue button handler
- ui.js lines 388-394: Updated showFinalJeopardyQuestion to clear inputs
- ui.js lines 408-432: Added showFinalJeopardyResults() method
- game.js lines 41: Added finalJeopardyUserAnswers tracking
- game.js lines 358-360: Simplified submitFinalJeopardyWagers
- game.js lines 363-408: Rewrote submitFinalJeopardyAnswers for text input
- game.js lines 411-425: Separated calculateFinalJeopardyScores
- game.js lines 428-442: Added showFinalJeopardyResults method

**Testing:**
- Both players can type simultaneously
- Validation works for both answers
- Results screen shows correct/incorrect clearly
- Wagers and final scores calculated correctly
- Smooth transition to game over

**Outcome:**
Final Jeopardy more reliable, faster, better UX. Simultaneous input saves time. Clear results display improves transparency.

**Lessons Learned:**
- Text input often more reliable than speech for critical inputs
- Simultaneous input better UX than sequential
- Results transparency important for fairness
- Speech recognition better for rapid gameplay, text for important moments",Done,1,"feature,final-jeopardy,ux",Claude,Jeopardy Game,2026-01-13,2026-01-13
JEO-9,Final Jeopardy Results Display,"**Problem/Request:**
Final Jeopardy didn't show correct answer or indicate who was right/wrong. Results screen went straight to winner without explanation.

**Investigation:**
- No intermediate screen between answer submission and game over
- Players couldn't see validation results
- Lack of transparency about scoring

**Root Cause:**
Original design had no results screen, jumped directly to game over after calculating scores.

**Options Considered:**
1. Add results to game over screen
2. Create dedicated results screen
Chose option 2 for better information hierarchy.

**Solution Implemented:**
Created comprehensive FJ results screen showing:
- Correct answer prominently displayed
- Each player's submitted answer
- Correct/Incorrect indicator (color-coded green/red)
- Wagers for each player
- Final scores after wager adjustment
- Continue button to proceed to game over

**Code Changes:**
- index.html lines 127-149: Added fj-results-screen HTML
- styles.css lines 575-649: Styled results display with color coding
- ui.js lines 408-432: Implemented showFinalJeopardyResults()
- ui.js line 456: Hide FJ on game over
- game.js line 402: Call showFinalJeopardyResults after calculation
- game.js lines 428-442: Separated results display from endGame

**Testing:**
- Verified correct answer displays
- Confirmed color coding (green for correct, red for incorrect)
- Tested wager display
- Validated final score calculations shown
- Smooth transition to game over

**Outcome:**
Complete transparency in Final Jeopardy scoring. Players understand why they won/lost. Professional presentation of results.

**Lessons Learned:**
- Transparency important for game satisfaction
- Intermediate results screens improve UX
- Color coding aids quick comprehension
- Breaking endGame into steps allows better flow control",Done,2,"enhancement,final-jeopardy,ux",Claude,Jeopardy Game,2026-01-13,2026-01-13
JEO-10,Score Editing Feature,"**Problem/Request:**
User needed ability to manually edit scores when LLM mishears or makes validation mistakes, allowing score corrections mid-game.

**Investigation:**
- Scores stored in game.players[1].score and game.players[2].score
- Need prompt-based input for quick editing
- Must update UI immediately after edit

**Root Cause:**
N/A - Missing feature for error correction

**Options Considered:**
1. Inline editable score displays
2. Separate edit buttons with prompt
3. Keyboard shortcuts
Chose option 2 for simplicity and explicit action.

**Solution Implemented:**
Added ""Edit Score"" buttons under each player's score:
- Click button → prompt dialog with current score
- Enter new score → updates game state and UI
- Handles invalid input gracefully (defaults to 0)

**Code Changes:**
- index.html lines 53, 60: Added edit-score-1 and edit-score-2 buttons
- styles.css lines 141-155: Styled btn-small class
- ui.js lines 104-119: Added click handlers with prompt dialogs
- Direct access to game.players object for score modification

**Testing:**
- Clicked edit buttons, verified prompts appear
- Entered various values (positive, negative, zero)
- Confirmed UI updates immediately
- Tested canceling prompt (no change)

**Outcome:**
Quick score correction available anytime. Fixes LLM mishearing or validation errors. Maintains game fairness.

**Lessons Learned:**
- Manual override important for AI-dependent games
- Simple prompt dialog sufficient for infrequent corrections
- Direct state access acceptable for simple edits
- Negative scores should be allowed (Jeopardy rules)",Done,2,"feature,scoring,error-correction",Claude,Jeopardy Game,2026-01-13,2026-01-13
JEO-11,Turn Control Toggle,"**Problem/Request:**
User needed ability to manually switch which player has control when LLM incorrectly awards question or when manual intervention needed.

**Investigation:**
- playerInControl stored in game object
- Controls who selects next clue
- Automatically updates on correct answer
- Need manual override capability

**Root Cause:**
N/A - Missing feature for game state correction

**Options Considered:**
1. Button only
2. Keyboard shortcut only
3. Both
Chose option 1 for visibility and explicit action.

**Solution Implemented:**
Added game controls bar with:
- ""Switch Control"" button
- Indicator showing current player in control
- Toggle function switching between players
- Visual update on all control changes (automatic or manual)

**Code Changes:**
- index.html lines 64-68: Added game-controls div with button and indicator
- styles.css lines 219-234: Styled controls bar
- ui.js lines 121-124: Added toggle button handler
- ui.js lines 441-445: Added updateControlIndicator() method
- game.js line 68: Update indicator on game start
- game.js line 222: Update indicator on correct answer
- game.js lines 508-514: Implemented toggleControl() method

**Testing:**
- Verified indicator shows correct player on start
- Confirmed automatic updates on correct answers
- Tested manual toggle button
- Validated indicator always in sync with game state

**Outcome:**
Full control over turn management. Can correct LLM errors or adjust gameplay flow manually.

**Lessons Learned:**
- Visual feedback critical for state changes
- Manual override + automatic update both needed
- Consistent indicator updates across all state changes
- Simple toggle more intuitive than selecting specific player",Done,2,"feature,game-control,state-management",Claude,Jeopardy Game,2026-01-13,2026-01-13
JEO-12,In-Game Banner Personalization,"**Problem/Request:**
User wanted in-game round banners to say ""JEOPARDY FOR JACQUELINE!"" and ""DOUBLE JEOPARDY FOR JACQUELINE!"" to match personalized staging screen.

**Investigation:**
- Round indicator updated in setRoundIndicator()
- Called on game start and round advancement
- Longer text required font size reduction for fit

**Root Cause:**
N/A - Enhancement request to match staging personalization

**Options Considered:**
1. Keep generic text
2. Personalize like staging screen
Chose option 2 for consistency.

**Solution Implemented:**
- Updated round indicator text to include ""FOR JACQUELINE!""
- Reduced font size from 2rem to 1.6rem for longer text
- Added text centering and padding for better fit

**Code Changes:**
- game.js line 68: JEOPARDY → JEOPARDY FOR JACQUELINE!
- game.js line 381: DOUBLE JEOPARDY → DOUBLE JEOPARDY FOR JACQUELINE!
- styles.css line 229: font-size: 2rem → 1.6rem
- styles.css lines 233-234: Added text-align: center and padding

**Testing:**
- Verified text fits in scoreboard area
- Confirmed styling maintained
- Tested on Jeopardy and Double Jeopardy rounds

**Outcome:**
Consistent personalization throughout entire game experience.

**Lessons Learned:**
- Personalization consistency improves polish
- Font size adjustments necessary for longer text
- Padding prevents text clipping in flex layouts",Done,3,"enhancement,ui,personalization",Claude,Jeopardy Game,2026-01-13,2026-01-13
JEO-13,Daily Double Wager Persistence Bug,"**Problem/Request:**
After Daily Double on $800 question with $200 wager (skipped without answering), next question ($1000) gave only $200 for correct answer. Wager value persisted to non-DD question.

**Investigation:**
- Examined processAnswer() - uses isDailyDouble flag to choose value
- Found skipQuestion() wasn't clearing DD flags
- handleTimerExpire() wasn't clearing DD flags properly
- endClue() lacked DD flag cleanup
- showClue() didn't reset flags for non-DD questions

**Root Cause:**
Daily Double wager ($200) and isDailyDouble flag persisted when:
1. Player skipped DD question without answering
2. Flags not cleared in skip path
3. Next regular question used stale isDailyDouble=true
4. processAnswer() incorrectly used dailyDoubleWager ($200) instead of displayValue ($1000)

**Options Considered:**
1. Clear flags only in processAnswer
2. Clear flags in all exit paths
3. Add defensive checks in showClue
Chose option 2+3 for defense in depth.

**Solution Implemented:**
Added DD flag cleanup to all question exit paths:
- skipQuestion() clears flags immediately
- handleTimerExpire() clears after processing
- endClue() clears as safety net
- showClue() defensively clears for non-DD questions
- Added console.log in processAnswer for debugging

**Code Changes:**
- game.js lines 100-103: Added safety clear in showClue() for non-DD
- game.js lines 313-314: Clear DD flags in skipQuestion()
- game.js lines 330-331: Clear DD flags in endClue()
- game.js line 230: Added debug logging in processAnswer()
- game.js lines 253-254, 295-296: Existing clears verified

**Testing:**
- Played DD question, skipped without answer
- Selected next question, verified correct value awarded
- Console log showed isDailyDouble=false, wager=0 for regular questions
- Tested DD → answer path still works correctly
- Verified all exit paths clear flags

**Outcome:**
DD wagers never leak to subsequent questions. Scoring accurate across all paths.

**Lessons Learned:**
- State cleanup needed in ALL exit paths (skip, timeout, normal, error)
- Defense in depth: entry + exit + multiple exit points
- Console logging invaluable for state debugging
- Test all code paths, not just happy path
- Edge cases (skip, timeout) often missed in initial implementation",Done,0,"bug,daily-double,state-management",Claude,Jeopardy Game,2026-01-13,2026-01-13
JEO-14,Category Swap and Preview System,"**Problem/Request:**
User wanted to preview 6 categories for each round in staging, with ability to swap individual categories they don't like, plus re-roll all categories option.

**Investigation:**
- Need random category selection from dataset
- Individual swap requires finding non-selected categories
- Re-roll needs complete regeneration
- Must maintain category diversity (5+ questions per category)

**Root Cause:**
N/A - Core feature requirement

**Options Considered:**
1. Preview only, no swapping
2. Re-roll all only
3. Individual swap + re-roll all
Chose option 3 for maximum control.

**Solution Implemented:**
- Random category selection API endpoint
- Category swap endpoint returning single replacement
- Staging UI with category lists and swap buttons
- Re-roll buttons for full regeneration
- Custom game board generation with chosen categories

**Code Changes:**
- server.js lines 30-39: /api/categories/random endpoint
- server.js lines 41-57: /api/categories/swap endpoint
- server.js lines 79-127: /api/game/custom endpoint
- questionManager.js lines 78-96: getRandomCategories() method
- questionManager.js lines 112-132: swapCategory() method
- index.html lines 23-38: Category preview UI with swap buttons
- styles.css lines 86-106: Category item styling
- ui.js lines 139-154: loadRandomCategories() method
- ui.js lines 156-178: renderCategories() method
- ui.js lines 180-200: swapCategory() method
- ui.js lines 47-53, 55-58: Re-roll button handlers

**Testing:**
- Verified 6 unique categories loaded
- Tested individual category swapping
- Confirmed swaps never duplicate existing categories
- Tested re-roll generates completely new set
- Validated custom game board creation with chosen categories

**Outcome:**
Full control over category selection before game starts. Better gameplay experience with preferred categories.

**Lessons Learned:**
- Category diversity check (5+ questions) prevents selection failures
- Swap endpoint needs current category list to avoid duplicates
- Random selection maintains unpredictability while allowing control
- Preview + selective change better UX than blind regeneration",Done,1,"feature,categories,staging",Claude,Jeopardy Game,2026-01-13,2026-01-13
JEO-15,Comprehensive README Documentation,"**Problem/Request:**
Project needed complete setup instructions, gameplay guide, troubleshooting, and future enhancement notes for users unfamiliar with development.

**Investigation:**
- User is new to programming
- Multiple setup steps required (API key, dataset, dependencies)
- Game controls and mechanics need explanation
- Browser compatibility important to document

**Root Cause:**
N/A - Documentation requirement

**Options Considered:**
1. Basic README with setup only
2. Comprehensive guide with all sections
Chose option 2 for beginner-friendly approach.

**Solution Implemented:**
Created detailed README.md covering:
- Feature list and tech stack
- Step-by-step setup instructions
- Environment configuration
- Dataset requirements
- Gameplay instructions (staging, buzzer controls, Daily Doubles, Final Jeopardy)
- Browser compatibility notes
- Troubleshooting section
- Cost breakdown for API usage
- File structure explanation
- Future enhancement guide (Wispr Flow integration)

**Code Changes:**
- README.md: 200+ lines of comprehensive documentation
- Sections: Features, Requirements, Setup, Gameplay, Troubleshooting, Wispr Flow integration

**Testing:**
- Verified all commands accurate
- Confirmed file paths correct
- Validated API instructions

**Outcome:**
Complete guide for setup, play, and future enhancements. New users can follow start to finish.

**Lessons Learned:**
- Documentation critical for projects intended for non-developers
- Step-by-step instructions reduce setup friction
- Troubleshooting section prevents common support requests
- Cost transparency important for API-dependent projects",Done,2,documentation,Claude,Jeopardy Game,2026-01-13,2026-01-13
JEO-16,Speech Recognition Modular Architecture,"**Problem/Request:**
Design speech recognition interface to allow easy future migration from Web Speech API to Wispr Flow without major refactoring.

**Investigation:**
- Web Speech API provides browser-native recognition
- Wispr Flow planned future integration
- Need abstraction layer for swappable implementations

**Root Cause:**
N/A - Architectural decision for future flexibility

**Options Considered:**
1. Direct Web Speech API calls throughout codebase
2. Modular service wrapper
Chose option 2 for maintainability.

**Solution Implemented:**
Created speechService.js module with:
- Consistent interface: startListening(), stopListening(), isActive()
- Callback-based result handling
- Error handling abstraction
- Configuration encapsulation
- Documentation for future Wispr Flow swap

**Code Changes:**
- public/js/speechService.js: Complete modular wrapper
- README.md: Wispr Flow integration instructions
- Methods: initialize(), startListening(onResult, onError), stopListening(), isActive()
- Web Speech API configuration hidden behind interface

**Testing:**
- Verified speech recognition works through module
- Tested callback handling
- Confirmed error handling

**Outcome:**
Clean abstraction allows future Wispr Flow integration with minimal code changes. Only speechService.js needs updating.

**Lessons Learned:**
- Abstraction layers enable technology swaps
- Callback pattern provides flexibility
- Documentation of future plans guides architecture
- Modular design reduces technical debt",Done,2,"architecture,modularity",Claude,Jeopardy Game,2026-01-13,2026-01-13
JEO-17,Buzzer System Implementation,"**Problem/Request:**
Implement authentic Jeopardy buzzer mechanics: A key for Player 1, L key for Player 2, first to buzz locks out other, incorrect answer gives other player chance.

**Investigation:**
- Keyboard event handling needed
- State management for buzzer activation
- Lock-out logic after first buzz
- Second chance logic on incorrect answer

**Root Cause:**
N/A - Core gameplay feature

**Options Considered:**
1. Mouse click buzzers
2. Keyboard buzzers
3. Both
Chose option 2 for speed and authentic feel.

**Solution Implemented:**
Keyboard-based buzzer system:
- A key = Player 1 buzz
- L key = Player 2 buzz
- buzzersActive flag controls when buzzing allowed
- First buzz locks buzzedPlayer, deactivates buzzers
- Incorrect answer reactivates buzzers for other player
- Visual feedback with buzzer indicators

**Code Changes:**
- ui.js lines 131-143: setupKeyboardControls() method
- game.js lines 29: buzzersActive flag
- game.js lines 147-163: buzz() method
- game.js lines 113: Activate buzzers on clue show
- game.js lines 138: Deactivate buzzers on buzz
- game.js lines 244-249: Reactivate for second player on incorrect
- styles.css lines 209-226: Buzzer indicator styling with pulse animation

**Testing:**
- Verified A/L keys buzz in
- Confirmed first buzz locks other player
- Tested incorrect answer gives second chance
- Validated visual feedback on buzz

**Outcome:**
Authentic Jeopardy buzzer feel. Fast, responsive, competitive gameplay.

**Lessons Learned:**
- Keyboard shortcuts faster than mouse for competitive gameplay
- Visual feedback essential for state awareness
- State flags (buzzersActive, buzzedPlayer) critical for lock-out logic
- Reactivation on incorrect answer maintains competitive balance",Done,1,"feature,buzzer,gameplay",Claude,Jeopardy Game,2026-01-13,2026-01-13
JEO-18,Answer Validation LLM Integration,"**Problem/Request:**
Implement AI-powered answer validation that accepts ""What is"" format or direct answers, handles synonyms, accounts for speech recognition errors, and responds in 2-3 seconds.

**Investigation:**
- Claude Haiku 3.5 provides fast, cost-effective validation
- Prompt engineering needed for leniency
- JSON response for structured validation
- Fallback for API failures

**Root Cause:**
N/A - Core feature requirement

**Options Considered:**
1. Exact string matching
2. Fuzzy string matching
3. LLM validation
Chose option 3 for flexibility and intelligence.

**Solution Implemented:**
LLM service using Anthropic Claude Haiku:
- Structured prompt explaining validation requirements
- JSON response format: {correct: boolean, explanation: string}
- Lenient evaluation of synonyms, alternate phrasings, speech errors
- Fallback to simple string matching on API failure
- Sub-3-second response times

**Code Changes:**
- server/llmService.js: Complete validation service
- Prompt template at lines 21-47
- JSON parsing at line 50
- Fallback matching at lines 53-59
- API call using @anthropic-ai/sdk
- Model: claude-3-5-haiku-20241022
- Max tokens: 200 (sufficient for validation response)

**Testing:**
- Tested various answer formats (with/without ""What is"")
- Verified synonym acceptance
- Confirmed speech error tolerance
- Measured response times (typically 1-2 seconds)
- Tested fallback on API error

**Outcome:**
Intelligent validation feels fair and natural. Fast enough for smooth gameplay. Cost-effective at ~$0.01-0.02 per game.

**Lessons Learned:**
- Haiku excellent balance of speed and intelligence
- JSON response format ensures structured output
- Fallback essential for reliability
- Prompt engineering critical for correct leniency
- Token limit (200) sufficient for boolean validation",Done,1,"feature,ai,validation",Claude,Jeopardy Game,2026-01-13,2026-01-13
JEO-19,Used Questions Tracking System,"**Problem/Request:**
Prevent question repeats across multiple games by tracking all played questions persistently.

**Investigation:**
- 520,893 questions available in dataset
- JSON file suitable for simple tracking
- Need unique question identification
- Automatic save on game completion

**Root Cause:**
N/A - Core feature for replayability

**Options Considered:**
1. No tracking (allow repeats)
2. Session-only tracking
3. Persistent file tracking
Chose option 3 for best user experience.

**Solution Implemented:**
JSON-based tracking system:
- Unique ID per question: round_category_question_answer
- Load used questions on server start
- Filter used questions from selection pool
- Save used questions on game completion
- Automatic file creation if not exists

**Code Changes:**
- questionManager.js lines 13: usedQuestionsFile path
- questionManager.js lines 20-35: loadUsedQuestions() method
- questionManager.js lines 58-67: Filter logic in loadTSV()
- questionManager.js lines 222-238: markQuestionsAsUsed() and saveUsedQuestions()
- server.js lines 119-135: /api/game/complete endpoint
- game.js lines 483-497: saveUsedQuestions() caller

**Testing:**
- Verified file created on first game
- Confirmed questions filtered after first game
- Tested multiple game sessions
- Validated JSON file integrity

**Outcome:**
No question repeats across games. Dataset large enough (520k questions) to support hundreds of games before exhaustion.

**Lessons Learned:**
- JSON file sufficient for personal use cases
- Unique ID composition important for tracking
- Server startup loading ensures consistency
- Automatic file creation improves first-run experience",Done,2,"feature,data-management",Claude,Jeopardy Game,2026-01-13,2026-01-13
JEO-20,Timer Visualization and Countdown,"**Problem/Request:**
Implement visual countdown timer with color changes as time runs low (yellow → orange → red), enforcing response time limits.

**Investigation:**
- Timer needs 1-second intervals
- Visual feedback improves urgency
- Color changes at 50% and 25% remaining
- Must stop on answer or buzzer

**Root Cause:**
N/A - Core gameplay feature

**Options Considered:**
1. Text countdown only
2. Circular progress bar
3. Text with color changes
Chose option 3 for simplicity and effectiveness.

**Solution Implemented:**
Circular timer display with:
- Countdown number in center
- Circular border with color changes
- Yellow (default) → Orange (50%) → Red (25%)
- Shake animation when time low
- setInterval-based countdown
- Stops on answer, skip, or expiration

**Code Changes:**
- index.html lines 72-76: Timer HTML structure
- styles.css lines 318-341: Timer styling and animations
- styles.css lines 343-351: Color transitions and shake keyframes
- game.js lines 24-26: Timer state (responseTime, timerInterval, remainingTime)
- game.js lines 472-491: startTimer() method
- game.js lines 493-498: stopTimer() method
- ui.js lines 305-318: updateTimer() method with color logic

**Testing:**
- Verified countdown displays correctly
- Confirmed color changes at correct thresholds
- Tested shake animation at 25%
- Validated timer stops on all exit paths

**Outcome:**
Clear visual feedback for time pressure. Color coding creates urgency. Professional appearance.

**Lessons Learned:**
- Percentage-based thresholds work better than absolute times
- Visual urgency (color + animation) effective without being distracting
- Multiple stop conditions need centralized stopTimer() method
- CSS animations simple way to add dynamic feedback",Done,2,"feature,timer,ux",Claude,Jeopardy Game,2026-01-13,2026-01-13
JEO-21,Scoring System and Display,"**Problem/Request:**
Implement authentic Jeopardy scoring: add for correct, subtract for incorrect, allow negative scores, track across rounds, display prominently.

**Investigation:**
- Two player scores needed
- Must support negative values
- Dollar formatting for display
- Real-time updates on answers

**Root Cause:**
N/A - Core gameplay feature

**Options Considered:**
1. Simple number display
2. Formatted currency display
Chose option 2 for authenticity.

**Solution Implemented:**
Comprehensive scoring system:
- Player objects with score properties
- processAnswer() handles all score modifications
- Correct: add clue value
- Incorrect: subtract clue value
- Daily Double: use wager instead of clue value
- Final Jeopardy: separate calculation with wagers
- Real-time UI updates via updateScores()
- Dollar formatting in display

**Code Changes:**
- game.js lines 14-17: players object with scores
- game.js lines 217-255: processAnswer() with scoring logic
- game.js lines 413-425: calculateFinalJeopardyScores()
- ui.js lines 308-312: updateScores() method
- index.html lines 51, 58: Score display elements
- styles.css lines 202-207: Score styling

**Testing:**
- Verified correct answers add points
- Confirmed incorrect answers subtract points
- Tested negative score handling
- Validated Daily Double wager scoring
- Tested Final Jeopardy calculations

**Outcome:**
Accurate Jeopardy-style scoring. Clear display of current standings. Proper handling of all scoring scenarios.

**Lessons Learned:**
- Separate calculations for DD and FJ needed
- Dollar formatting improves readability
- Real-time updates essential for engagement
- Negative scores must be explicitly allowed (no floor at $0)",Done,1,"feature,scoring,gameplay",Claude,Jeopardy Game,2026-01-13,2026-01-13
JEO-22,Round Progression System,"**Problem/Request:**
Implement automatic progression from Jeopardy → Double Jeopardy → Final Jeopardy when all questions answered in current round.

**Investigation:**
- Need to detect round completion
- Generate new board for Double Jeopardy
- Transition to Final Jeopardy after DJ
- Clear previous round state

**Root Cause:**
N/A - Core game flow feature

**Options Considered:**
1. Manual round advancement
2. Automatic detection
Chose option 2 for smooth flow.

**Solution Implemented:**
Round progression logic:
- Check after each clue completion if round finished
- Compare used questions vs available questions
- Advance to next round automatically
- Render new board for Double Jeopardy
- Show Final Jeopardy setup screen
- Update round indicator throughout

**Code Changes:**
- game.js lines 16: currentRound state
- game.js lines 354-368: Check round completion in endClue()
- game.js lines 370-387: advanceRound() method
- game.js line 68: Initial round indicator (Jeopardy)
- game.js line 381: Double Jeopardy indicator
- ui.js lines 314-318: setRoundIndicator() method
- ui.js lines 262-305: renderBoard() for round transitions

**Testing:**
- Completed all Jeopardy questions, verified DJ starts
- Completed all DJ questions, verified FJ starts
- Confirmed board clears between rounds
- Validated round indicators update

**Outcome:**
Seamless progression through game rounds. Professional game flow. No manual intervention needed.

**Lessons Learned:**
- Automatic advancement better than manual triggers
- State checks after each clue prevent missed transitions
- Clear visual indication of round changes important
- Board regeneration must clear previous state",Done,1,"feature,game-flow,rounds",Claude,Jeopardy Game,2026-01-13,2026-01-13
JEO-23,Daily Double Placement System,"**Problem/Request:**
Implement authentic Daily Double placement: 1 in Jeopardy round, 2 in Double Jeopardy round, randomly positioned, revealed after selection.

**Investigation:**
- Random placement within 30 questions per round
- Mark questions as Daily Doubles
- Show DD screen before question
- Only player in control can answer

**Root Cause:**
N/A - Core Jeopardy feature

**Options Considered:**
1. Fixed DD positions
2. Random placement
Chose option 2 for authenticity.

**Solution Implemented:**
Random Daily Double system:
- Math.random() placement in question arrays
- isDailyDouble flag on question objects
- Prevent duplicate DD positions in Double Jeopardy
- DD screen shows player in control, current score, max wager
- Wager validation (min $5, max current score or round max)
- Only player in control answers (no buzzer)

**Code Changes:**
- questionManager.js lines 103-105: Jeopardy DD placement
- questionManager.js lines 111-118: Double Jeopardy DD placement (2 unique)
- game.js lines 32-33: DD state flags
- game.js lines 116-124: handleDailyDouble() method
- game.js lines 126-152: submitDailyDoubleWager() method
- index.html lines 82-92: DD screen HTML
- styles.css lines 376-447: DD screen styling
- ui.js lines 350-358: showDailyDouble() method

**Testing:**
- Verified 1 DD in Jeopardy, 2 in Double Jeopardy
- Confirmed random positions vary between games
- Tested wager validation
- Validated only control player answers

**Outcome:**
Authentic Daily Double experience. Adds strategic wagering element. Proper control player restriction.

**Lessons Learned:**
- While loop needed to ensure unique positions in DJ
- Wager validation critical for rule compliance
- Revealing DD after selection maintains surprise
- Control player restriction matches TV show rules",Done,1,"feature,daily-double,gameplay",Claude,Jeopardy Game,2026-01-13,2026-01-13
JEO-24,Jeopardy-Themed UI Design,"**Problem/Request:**
Create authentic Jeopardy visual experience with blue background (#060CE9), gold text (#FFCC00), grid layout, smooth animations, professional appearance.

**Investigation:**
- Jeopardy uses specific blue and gold colors
- Grid layout for questions
- Category headers at top
- Dollar amounts disappear when selected
- Large centered clue display

**Root Cause:**
N/A - Core visual design requirement

**Options Considered:**
1. Generic game board design
2. Authentic Jeopardy theming
Chose option 2 for recognizability.

**Solution Implemented:**
Complete Jeopardy-themed design:
- Blue background (#060CE9) throughout game screens
- Gold text (#FFCC00) for categories, amounts, titles
- 6×5 grid layout for game board
- Category headers with uppercase text
- Dollar amounts in cells that grey out when used
- Centered clue display with large text
- Gradient backgrounds for staging/final screens
- Hover effects on clickable elements
- Smooth transitions and animations
- Responsive sizing for different screens

**Code Changes:**
- styles.css lines 167-695: Complete theme implementation
- Color scheme: #060CE9 (blue), #FFCC00 (gold), #000 (black)
- Grid layout: display: grid with 6 columns
- Typography: Arial/Helvetica, bold weights, large sizes
- Animations: hover scales, pulse effects, shake on timer
- Gradients: linear-gradient for backgrounds

**Testing:**
- Verified colors match Jeopardy brand
- Confirmed grid layout responsive
- Tested all hover effects
- Validated animations smooth

**Outcome:**
Instantly recognizable Jeopardy appearance. Professional polish. Engaging visual experience.

**Lessons Learned:**
- Brand colors critical for authenticity
- Grid layout CSS handles complex board structure
- Hover feedback improves interactivity
- Consistent color scheme throughout maintains cohesion",Done,1,"design,ui,theming",Claude,Jeopardy Game,2026-01-13,2026-01-13
JEO-25,TSV Data Parsing and Question Loading,"**Problem/Request:**
Parse Kaggle Jeopardy TSV file (520k+ questions) efficiently, structure data for game use, filter by round type, handle various data formats.

**Investigation:**
- TSV format with tab-separated values
- Headers: round, clue_value, daily_double_value, category, comments, answer, question, air_date, notes
- Need rounds 1 (Jeopardy) and 2 (Double Jeopardy)
- Some fields empty or inconsistent

**Root Cause:**
N/A - Core data loading requirement

**Options Considered:**
1. CSV parser library
2. Custom TSV parsing
Chose option 2 to avoid dependencies.

**Solution Implemented:**
Custom TSV parser:
- Read file with fs.readFileSync
- Split by newlines and tabs
- Build objects from headers + values
- Filter for rounds 1 and 2
- Create unique IDs for tracking
- Load on server initialization
- Cache in memory for fast access

**Code Changes:**
- questionManager.js lines 37-75: loadTSV() method
- Line splitting: data.split('\n')
- Tab splitting: line.split('\t')
- Header mapping to values
- Round filtering: round === '1' || round === '2'
- Unique ID: round_category_question_answer
- Loaded count logging

**Testing:**
- Verified 520,893 questions loaded
- Confirmed round filtering works
- Tested category diversity
- Validated question structure

**Outcome:**
Fast loading (< 1 second), efficient memory usage, ready access to all questions.

**Lessons Learned:**
- Custom parsing sufficient for simple TSV format
- In-memory caching appropriate for personal use
- Unique ID composition critical for tracking
- File encoding (utf8) important to specify
- Trim whitespace to prevent matching issues",Done,2,"feature,data,parsing",Claude,Jeopardy Game,2026-01-13,2026-01-13
